<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.45">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-01-03">

<title>PSQF 7375: Missing Data Methods Syllabus; Spring 2025 â€“ MissingDataMethods2025</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body>

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#course-information" id="toc-course-information" class="nav-link active" data-scroll-target="#course-information">Course Information</a>
  <ul class="collapse">
  <li><a href="#course-objectives-materials-and-prerequesites" id="toc-course-objectives-materials-and-prerequesites" class="nav-link" data-scroll-target="#course-objectives-materials-and-prerequesites">Course Objectives, Materials, and Prerequesites</a></li>
  </ul></li>
  <li><a href="#course-readings" id="toc-course-readings" class="nav-link" data-scroll-target="#course-readings">Course Readings</a></li>
  <li><a href="#tentative-course-schedule" id="toc-tentative-course-schedule" class="nav-link" data-scroll-target="#tentative-course-schedule">Tentative Course Schedule</a></li>
  <li><a href="#additional-readings" id="toc-additional-readings" class="nav-link" data-scroll-target="#additional-readings">Additional Readings</a></li>
  <li><a href="#course-websitetechnology" id="toc-course-websitetechnology" class="nav-link" data-scroll-target="#course-websitetechnology">Course Website/Technology</a>
  <ul class="collapse">
  <li><a href="#statistical-computing" id="toc-statistical-computing" class="nav-link" data-scroll-target="#statistical-computing">Statistical Computing</a></li>
  </ul></li>
  <li><a href="#homework-reading-assessments-and-course-project" id="toc-homework-reading-assessments-and-course-project" class="nav-link" data-scroll-target="#homework-reading-assessments-and-course-project">Homework, Reading Assessments, and Course Project</a>
  <ul class="collapse">
  <li><a href="#homework-assignments" id="toc-homework-assignments" class="nav-link" data-scroll-target="#homework-assignments">Homework Assignments</a></li>
  <li><a href="#assigned-reading-assessments" id="toc-assigned-reading-assessments" class="nav-link" data-scroll-target="#assigned-reading-assessments">Assigned Reading Assessments</a></li>
  <li><a href="#verbal-final-examination" id="toc-verbal-final-examination" class="nav-link" data-scroll-target="#verbal-final-examination">Verbal Final Examination</a></li>
  <li><a href="#course-grading-system" id="toc-course-grading-system" class="nav-link" data-scroll-target="#course-grading-system">Course Grading System</a></li>
  </ul></li>
  <li><a href="#use-of-artificial-intelligence-or-other-technology" id="toc-use-of-artificial-intelligence-or-other-technology" class="nav-link" data-scroll-target="#use-of-artificial-intelligence-or-other-technology">Use of Artificial Intelligence or Other Technology</a></li>
  <li><a href="#university-of-iowa-course-policies-and-resources-for-students" id="toc-university-of-iowa-course-policies-and-resources-for-students" class="nav-link" data-scroll-target="#university-of-iowa-course-policies-and-resources-for-students">University of Iowa Course Policies and Resources for Students</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">PSQF 7375: Missing Data Methods Syllabus; Spring 2025</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 3, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><em>Note:</em> The online syllabus at the address provided above will always have the most current information.</p>
<section id="course-information" class="level2">
<h2 class="anchored" data-anchor-id="course-information">Course Information</h2>
<table class="caption-top table">
<tbody>
<tr class="odd">
<td>Instructor:</td>
<td>Jonathan Templin</td>
</tr>
<tr class="even">
<td>email:</td>
<td>jonathan-templin@uiowa.edu</td>
</tr>
<tr class="odd">
<td>Course website:</td>
<td><a href="https://jonathantemplin.github.io/MissingDataMethods2025/" class="uri">https://jonathantemplin.github.io/MissingDataMethods2025/</a></td>
</tr>
<tr class="even">
<td>Course repo:</td>
<td><a href="https://github.com/jonathantemplin/MissingDataMethods2025" class="uri">https://github.com/jonathantemplin/MissingDataMethods2025</a></td>
</tr>
<tr class="odd">
<td>Course YouTube Playlist:</td>
<td>TBA</td>
</tr>
<tr class="even">
<td>Office:</td>
<td>S300A Lindquist Center</td>
</tr>
<tr class="odd">
<td>Office Phone:</td>
<td>319-335-6429</td>
</tr>
<tr class="even">
<td>Classroom:</td>
<td>S108 LC</td>
</tr>
<tr class="odd">
<td>Course Meeting Time:</td>
<td>W 12:30pm-3:20pm</td>
</tr>
<tr class="even">
<td>Course Office Hours:</td>
<td>W 10:00am-12:00pm via Zoom at <a href="https://uiowa.zoom.us/my/jonathantemplinuiowa" class="uri">https://uiowa.zoom.us/my/jonathantemplinuiowa</a></td>
</tr>
<tr class="odd">
<td>Syllabus:</td>
<td><a href="https://jonathantemplin.github.io/MissingDataMethods2025/syllabus/s25mdm_syllabus.html">https://jonathantemplin.github.io/MissingDataMethods2025/s25mdm_syllabus.html</a></td>
</tr>
</tbody>
</table>
<section id="course-objectives-materials-and-prerequesites" class="level3">
<h3 class="anchored" data-anchor-id="course-objectives-materials-and-prerequesites">Course Objectives, Materials, and Prerequesites</h3>
<p>This course section explores missing data methods in applied statistics, data science, and psychometrics; emphasizing techniques such as multiple imputation, Bayesian methods, and maximum likelihood to handle and analyze incomplete datasets effectively.</p>
</section>
</section>
<section id="course-readings" class="level2">
<h2 class="anchored" data-anchor-id="course-readings">Course Readings</h2>
<p>The course will follow the chapters of Applied Missing Data Analysis (2022, 2nd Edition) by Craig Enders. The University of Iowa Library has electronic access to the book at <a href="https://ebookcentral-proquest-com.proxy.lib.uiowa.edu/lib/uiowa/detail.action?docID=7027149" class="uri">https://ebookcentral-proquest-com.proxy.lib.uiowa.edu/lib/uiowa/detail.action?docID=7027149</a>. Additional readings will be posted our course ICON site.</p>
</section>
<section id="tentative-course-schedule" class="level2">
<h2 class="anchored" data-anchor-id="tentative-course-schedule">Tentative Course Schedule</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 24%">
<col style="width: 24%">
<col style="width: 24%">
<col style="width: 27%">
</colgroup>
<thead>
<tr class="header">
<th>Week</th>
<th>Date</th>
<th>Topic</th>
<th>Reading</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>22 Jan</td>
<td>Introduction to Class/Major Types of Missing Data</td>
<td>None</td>
</tr>
<tr class="even">
<td>2</td>
<td>29 Jan</td>
<td>Introduction to Missing Data</td>
<td>Chapter 1</td>
</tr>
<tr class="odd">
<td>3</td>
<td>5 Feb</td>
<td>Maximum Likelihood Estimation</td>
<td>Chapter 2</td>
</tr>
<tr class="even">
<td>4</td>
<td>12 Feb</td>
<td>Maximum Likelihood Estimation with Missing Data</td>
<td>Chapter 3</td>
</tr>
<tr class="odd">
<td>5</td>
<td>19 Feb</td>
<td>Bayesian Estimation</td>
<td>Chapter 4</td>
</tr>
<tr class="even">
<td>6</td>
<td>26 Feb</td>
<td>Bayesian Estimation with Missing Data</td>
<td>Chapter 5</td>
</tr>
<tr class="odd">
<td>7</td>
<td>5 Mar</td>
<td>Bayesian Estimation for Categorical Variables</td>
<td>Chapter 6</td>
</tr>
<tr class="even">
<td>8</td>
<td>12 Mar</td>
<td>Multiple Imputation</td>
<td>Chapter 7</td>
</tr>
<tr class="odd">
<td>9</td>
<td>19 Mar</td>
<td>Spring Break: No Class</td>
<td>No Readings</td>
</tr>
<tr class="even">
<td>10</td>
<td>26 Mar</td>
<td>Multilevel Missing Data</td>
<td>Chapter 8</td>
</tr>
<tr class="odd">
<td>11</td>
<td>2 Apr</td>
<td>Missing Not at Random Processes</td>
<td>Chapter 9</td>
</tr>
<tr class="even">
<td>12</td>
<td>9 Apr</td>
<td>Special Topics and Applications</td>
<td>Chapter 10</td>
</tr>
<tr class="odd">
<td>13</td>
<td>16 Apr</td>
<td>Guidance for Working with Missing Data</td>
<td>Chapter 11</td>
</tr>
<tr class="even">
<td>14</td>
<td>23 Apr</td>
<td>Missing Data in Psychometric Models: Latent Variable Scores</td>
<td>Mislevy et al.&nbsp;(1992)</td>
</tr>
<tr class="odd">
<td>15</td>
<td>30 Apr</td>
<td>No Class: AERA/NCME Conference</td>
<td></td>
</tr>
<tr class="even">
<td>16</td>
<td>7 May</td>
<td>Missing Data in Psychometric Models: Implications for CAT</td>
<td>Doebler et al.&nbsp;(2013); Jewsbury et al.&nbsp;(2024);</td>
</tr>
</tbody>
</table>
</section>
<section id="additional-readings" class="level2">
<h2 class="anchored" data-anchor-id="additional-readings">Additional Readings</h2>
<p>Mislevy, R. J., Beaton, A. E., Kaplan, B., &amp; Sheehan, K. M. (1992). Estimating population characteristics from sparse matrix samples of item responses. Journal of Educational Measurement, 29(2), 133-161.</p>
<p>Jewsbury, P. A., Lu, R., &amp; van Rijn, P. W. (2024). A general framework for modeling missing data due to item selection with item response theory. Methodology, 20(3), 218-237.</p>
<p>Doebler, A., Doebler, P., &amp; Holling, H. (2013). Optimal and most exact confidence intervals for person parameters in item response theory models. Psychometrika, 78(1), 98-115.</p>
</section>
<section id="course-websitetechnology" class="level2">
<h2 class="anchored" data-anchor-id="course-websitetechnology">Course Website/Technology</h2>
<p>ICON <em>will</em> be used for grades, submission of assignments, disseminating course readings, and course communications.</p>
<p>ICON <em>will not</em> be used for lecture materials. Instead, we will use freely available commercial software for communication and dissemination of course materials. Course lecture slides, lecture examples, video files, assignments, and information are available on the website. Additionally, all course materials will be available using the course Git repository.</p>
<p>All lectures will be archived on YouTube (my YouTube channel is https://jonathantemplin.com/YouTube).</p>
<section id="statistical-computing" class="level3">
<h3 class="anchored" data-anchor-id="statistical-computing">Statistical Computing</h3>
<p>The course will use the R statistical package with the R Studio development suite along with a set of R packages (both Bayesian and Non-Bayesian). Additionally, we will use the JAGS and Stan open-source Bayesian estimation programs. R and R Studio work with JAGS and Stan by using a series of downloadable packages which will be used throughout the course.</p>
<p>R, R Studio, and stan are available for free from the following websites: R: <a href="https://www.r-project.org/" class="uri">https://www.r-project.org/</a> R Studio: <a href="https://mc-stan.org/">https://www.rstudio.com/</a> Stan: <a href="https://mc-stan.org/" class="uri">https://mc-stan.org/</a> JAGS: <a href="https://mcmc-jags.sourceforge.io" class="uri">https://mcmc-jags.sourceforge.io</a></p>
<p>The University of Iowa enables access for many of these programs through their research computing resources: R Studio Notebooks: https://notebooks.hpc.uiowa.edu/ High Performance Computing: https://hpc.uiowa.edu/</p>
<p>Although this software is available at the University of Iowa, I ask that you install all versions on your local computer as campus resources can be difficult to use for many analyses.</p>
</section>
</section>
<section id="homework-reading-assessments-and-course-project" class="level2">
<h2 class="anchored" data-anchor-id="homework-reading-assessments-and-course-project">Homework, Reading Assessments, and Course Project</h2>
<p>Student evaluation will be made based three components: (1) homework assignments (50% of course grade), (2) assigned reading assessments (20% of course grade), and (3) a final examination (30% of course grade).</p>
<p>Mathematically, the grade percentage can be expressed as:</p>
<p><span class="math display">\[GP = .5\times HP + .2 \times ARP + .3 \times FP, \]</span> Where:</p>
<ul>
<li>GP is the Grade Percentage</li>
<li>HP is the Homework Percentage</li>
<li>ARP is the book Assessment Percentage</li>
<li>FP is the Final Examination Percentage</li>
</ul>
<section id="homework-assignments" class="level3">
<h3 class="anchored" data-anchor-id="homework-assignments">Homework Assignments</h3>
<p>There will be a set of homework assignments, the number to be determined. For each assignment, students will have a minimum of two weeks to complete the assignment. Homework assignments will weighted equally with respect to the 60%/ of the course grade accounted for by homework. The lowest homework percentage will be dropped (to allow for grace for late homework).</p>
<p>Mathematically, the homework percentage can be expressed as:</p>
<p><span class="math display">\[HP = \left[\frac{\left( \sum_{h=1}^H P_h \right)-\min_h P_h} {H-1}\right],\]</span> where <span class="math inline">\(P_h\)</span> is the percent correct on homework <span class="math inline">\(h\)</span>, with <span class="math inline">\(H\)</span> total homeworks.</p>
<p>In order to be able to provide the entire class with prompt feedback, late homework assignments will not be accepted. However, extensions may be granted as needed for extenuating circumstances (e.g., conferences, family obligations) if requested at least three weeks in advance of the due date. Additionally, late homework due to emergencies will be accepted with documentation of the circumstances of the emergency.</p>
<p>All assignments must be completed in R, using R Markdown as a file format, and submitted via ICON. Although students are encouraged to work together on the concepts underlying homework, all answers must be from studentâ€™s own work (writing and syntax) and not be copied or paraphrased from anyone elseâ€™s answers. Grammar and writing will be assessed by each homework and will factor into the homework grade.</p>
</section>
<section id="assigned-reading-assessments" class="level3">
<h3 class="anchored" data-anchor-id="assigned-reading-assessments">Assigned Reading Assessments</h3>
<p>Each week, students will take a short assessment in ICON with questions pertaining to the reading assigned that week. The purpose of the assigned reading assessment is to ensure reading materials are read prior to class being held. Questions will be graded correct/incorrect.</p>
</section>
<section id="verbal-final-examination" class="level3">
<h3 class="anchored" data-anchor-id="verbal-final-examination">Verbal Final Examination</h3>
<p>As we live in the era of large language models, rather than a written project, students will be required to complete a verbal final examination. The verbal final examination will be a one-on-one meeting with the instructor. The verbal final examination will account for 30% of the course grade.</p>
<p>The contents of the final will be the entirety of the course materials, with an emphasis on the readings and the homework assignments. The verbal final examination will be held during finals week (Wednesday, May 14th) via Zoom. A sign-up sheet for an examination time blocks will be posted on ICON.</p>
</section>
<section id="course-grading-system" class="level3">
<h3 class="anchored" data-anchor-id="course-grading-system">Course Grading System</h3>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Point Total</th>
<th style="text-align: left;">Letter Grade</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>100 and Above</td>
<td style="text-align: left;">A+</td>
</tr>
<tr class="even">
<td>99-93</td>
<td style="text-align: left;">A</td>
</tr>
<tr class="odd">
<td>92-90</td>
<td style="text-align: left;">A-</td>
</tr>
<tr class="even">
<td>89-87</td>
<td style="text-align: left;">B+</td>
</tr>
<tr class="odd">
<td>86-83</td>
<td style="text-align: left;">B</td>
</tr>
<tr class="even">
<td>82-80</td>
<td style="text-align: left;">B-</td>
</tr>
<tr class="odd">
<td>79-77</td>
<td style="text-align: left;">C+</td>
</tr>
<tr class="even">
<td>76-73</td>
<td style="text-align: left;">C</td>
</tr>
<tr class="odd">
<td>72-70</td>
<td style="text-align: left;">C-</td>
</tr>
<tr class="even">
<td>69-60</td>
<td style="text-align: left;">D</td>
</tr>
<tr class="odd">
<td>Below 60</td>
<td style="text-align: left;">F</td>
</tr>
<tr class="even">
<td></td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="use-of-artificial-intelligence-or-other-technology" class="level2">
<h2 class="anchored" data-anchor-id="use-of-artificial-intelligence-or-other-technology">Use of Artificial Intelligence or Other Technology</h2>
<p>This course assumes that work submitted by studentsâ€”all process work, drafts, low-stakes writing, final versions, and all other submissionsâ€”will be generated by the students themselves, working individually. This means that the following would be considered violations of academic integrity: a student has another person/entity do the writing of any substantive portion of an assignment for them, which includes hiring a person or a company to write essays and drafts and/or other assignments, research-based or otherwise, and using artificial intelligence affordances like ChatGPT.</p>
</section>
<section id="university-of-iowa-course-policies-and-resources-for-students" class="level2">
<h2 class="anchored" data-anchor-id="university-of-iowa-course-policies-and-resources-for-students">University of Iowa Course Policies and Resources for Students</h2>
<ul>
<li><p>Student Complaint Procedure: <a href="https://education.uiowa.edu/faculty-and-staff-resources/student-complaint-procedure" class="uri">https://education.uiowa.edu/faculty-and-staff-resources/student-complaint-procedure</a></p></li>
<li><p>College policy on student academic misconduct: <a href="https://education.uiowa.edu/faculty-and-staff-resources/student-academic-misconduct" class="uri">https://education.uiowa.edu/faculty-and-staff-resources/student-academic-misconduct</a></p></li>
<li><p>University policies <a href="https://provost.uiowa.edu/student-course-policies" class="uri">https://provost.uiowa.edu/student-course-policies</a></p></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>